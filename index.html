<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tổ Tiếng Anh</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            font-family: sans-serif;
        }

        /* --- MÀN CHE ĐẦU --- */
        .baoquanh {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: #004966;
            display: flex;
            justify-content: center;
            align-items: center;
            animation: keo1 1s forwards;
            z-index: 2000;
        }
        .khoi1 {
            background-color: #ff7714;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            animation: keo 1.4s forwards;
        }
        .khoi1 img { width: 700px; }
        @keyframes keo { from { transform: translateX(0); } to { transform: translateX(100%); } }
        @keyframes keo1 { from { transform: translateX(0); } to { transform: translateX(100%); } }

        /* --- BLOCK TRÁI PHẢI --- */
        .left-block {
            position: absolute;
            top: 0;
            left: -65vw;
            width: 65vw;
            height: 100vh;
            background: #ff7714;
            clip-path: polygon(0 0, 100% 0, 75% 50%, 100% 100%, 0 100%);
            z-index: 3;
        }
        .right-block {
            position: absolute;
            top: 0;
            right: -70vw;
            width: 70vw;
            height: 100vh;
            background: #006b8a;
            clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%, 25% 50%);
            z-index: 2;
        }
        .left-block.run { animation: slideLeft 1s forwards; }
        .right-block.run { animation: slideRight 1s forwards; }
        @keyframes slideLeft { from { left: -65vw; } to { left: 0; } }
        @keyframes slideRight { from { right: -65vw; } to { right: 0; } }

        /* --- TEXT TITLE --- */
        .text-gradient {
            font-size: 150px;
            font-weight: 900;
            font-family: serif;
            background-color: white;
            -webkit-background-clip: text;
            color: transparent;
            opacity: 0;
            transform: scale(0.6);
            animation: showText 1s forwards;
            animation-delay: 2.3s;
            position: relative;
            z-index: 10;
        }
        @keyframes showText { to { opacity: 1; transform: scale(1); } }

        /* --- CONTAINER CHÍNH --- */
        .container {
            position: relative;
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            background: #f2f6f7;
        }

        /* --- NOIDUNG --- */
        .noidung {
            background-color: #111;
            width: 100vw;
            min-height: 100vh;
            position: relative;
            z-index: 10 !important;
        }

        .bubble-container {
            width: 100%;
            min-height: 100vh;
            position: relative;
            overflow: hidden;
            padding-top: 50px;
            background-image: url('background2.jpg');
            background-size: cover;
            background-position: center;
        }
        .bubble {
            position: absolute;
            border-radius: 50%;
            overflow: hidden;
            cursor: pointer;
            border: 4px solid rgba(255,255,255,0.4);
            box-shadow: 0 0 25px rgba(8,8,8,0.788), 0 0 60px rgba(255,255,255,0.4);
            transition: transform 0.3s ease;
        }
        .bubble img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .bubble:hover { transform: scale(1.12); }
        @keyframes float1 {
            0%,100% { transform: translate(0,0) rotate(0deg); }
            25% { transform: translate(25px,20px) rotate(4deg); }
            50% { transform: translate(-20px,35px) rotate(-3deg); }
            75% { transform: translate(30px,10px) rotate(2deg); }
        }

        /* --- MODAL --- */
        .modal {
            display: none;
            position: fixed;
            top:0; left:0;
            width: 100%;
            height:100%;
            background: rgba(0,0,0,0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        .modal.active { display: flex; }
        .modal-content {
            background: white;
            border-radius: 25px;
            width: 90%;
            max-width: 450px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            text-align: center;
            padding-bottom: 20px;
        }
        .modal-header {
            height: 180px;
            background: url('background2.jpg') center / cover;
            border-radius: 25px 25px 0 0;
            display: flex;
            justify-content: center;
            align-items: center;
            padding-top: 15px;
        }
        .modal-avatar {
            width: 130px;
            height: 130px;
            border-radius: 50%;
            border: 5px solid white;
            object-fit: cover;
            position: relative;
            bottom:0;
        }
        .modal-body { padding: 70px 20px 20px 20px; }
        .modal-name { font-size: 26px; font-weight: bold; text-align:center; }
        .modal-position { font-size: 18px; margin:10px 0; color:#e45; text-align:center; }
        .modal-description { color:#555; text-align:center; line-height:1.6; padding:0 10px; }

        /* --- TASKBAR --- */
        .taskbar {
            width:100vw; height:7vh;
            display:flex; justify-content:space-between; align-items:center;
            position:fixed; top:0; left:0;
            background-color: rgba(0,0,0,0.5);
            backdrop-filter: blur(8px);
            z-index:20;
        }
        .logotaskbar { height:60%; margin-left:20px; }
        .more { height:40%; margin-right:30px; cursor:pointer; transition:0.5s; }
        .more:hover { transform: scale(1.1); }

        /* --- SIDEBAR --- */
        .sidebar {
            position: fixed;
            top:0; right:-3000px;
            width:300px; height:50vh;
            background: rgba(0,0,0,0.85);
            backdrop-filter: blur(10px);
            box-shadow: -5px 0 15px rgba(0,0,0,0.6);
            transition:0.4s ease;
            z-index:3000;
            padding:20px;
            padding-top:100px;
            color:white;
        }
        .sidebar.open { right:0; }

        /* --- NOIDUNG3 --- */
        .noidung3 {
            width:100vw; min-height:100vh;
            background-image: url('background4.jpg');
            background-size: cover;
            background-position: center;
            display:flex; justify-content:center; align-items:center;
        }

        /* --- THIEP --- */
        .thiep {
            background: rgba(255,118,20,0.9);
            width:1000px; max-width:90%;
            height:500px; border-radius:50px;
            display:flex; flex-direction:column; align-items:center; justify-content:center;
            padding:30px; box-shadow:0 10px 30px rgba(0,0,0,0.3);
            text-align:center; color:#fff;
            opacity:0; transform:translateY(50px);
            transition: all 1s ease;
        }
        .thiep.visible { opacity:1; transform:translateY(0); }

        .thiep-title {
            font-size: 42px; font-weight:bold; margin-bottom:30px;
            color:white; text-shadow:2px 2px 5px rgba(0,0,0,0.4);
        }
        .thiep-content {
            display:flex; align-items:center; gap:30px;
            max-width:900px; flex-wrap:wrap; justify-content:center;
        }
        .thiep-image {
            width:180px; height:180px;
            border-radius:50%; border:4px solid #fff;
            object-fit:cover; box-shadow:0 5px 20px rgba(0,0,0,0.3);
        }
        .thiep-message {
            font-size:22px; line-height:1.6; text-align:left;
            max-width:600px;
        }

        /* --- RESPONSIVE --- */
        @media (max-width: 768px){
            .thiep { height:auto; padding:20px; }
            .thiep-title { font-size:32px; }
            .thiep-image { width:120px; height:120px; }
            .thiep-message { font-size:18px; }
        }
    </style>
</head>
<body>

    <div class="taskbar">
        <img class="logotaskbar" src="logo.png">
        <img class="more" src="danhmuc.png">
    </div>

    <div id="sidebarMenu" class="sidebar">
        <h2>DANH MỤC</h2>
        <ul>
            <li>Trang chủ</li>
            <li>Các thầy cô</li>
            <li>Hoạt động</li>
            <li>Liên hệ</li>
        </ul>
    </div>

    <div class="container">
        <div class="baoquanh">
            <div class="khoi1"><img src="logo.png" /></div>
        </div>
        <div class="left-block"></div>
        <div class="right-block"></div>
        <div class="text-gradient">Tổ Tiếng Anh</div>
    </div>

    <div class="noidung">
        <div class="bubble-container" id="bubbleContainer"></div>

        <div class="modal" id="modal">
            <div class="modal-content">
                <button class="close-btn" onclick="closeModal()">×</button>
                <div class="modal-header">
                    <img id="modalAvatar" class="modal-avatar" />
                </div>
                <div class="modal-body">
                    <h2 id="modalName" class="modal-name"></h2>
                    <div id="modalPosition" class="modal-position"></div>
                    <p id="modalDescription" class="modal-description"></p>
                </div>
            </div>
        </div>
    </div>

    <div class="noidung3">
        <div id="thiep" class="thiep">
            <h1 class="thiep-title">Chúc Mừng Ngày Nhà Giáo Việt Nam 20/11</h1>
            <div class="thiep-content">
                <img src="logo.png" class="thiep-image">
                <p class="thiep-message">
                    Kính chúc <br>◆ các thầy cô trong Tổ Tiếng Anh một ngày 20/11 thật ý nghĩa, ngập tràn niềm vui và hạnh phúc!<br>
                    Chúng em luôn biết ơn công lao dạy dỗ của thầy cô.
                </p>
            </div>
        </div>
    </div>

    <script>
        const baoquanh = document.querySelector(".baoquanh");
        const leftBlock = document.querySelector(".left-block");
        const rightBlock = document.querySelector(".right-block");

        baoquanh.addEventListener("animationend", () => {
            baoquanh.style.display = "none";
            leftBlock.classList.add("run");
            rightBlock.classList.add("run");
        });

        const bubbleContainer = document.getElementById("bubbleContainer");

        const people = [
            { size:170, image:"./picofteacher/Trần Thị Lụa Tổ TA.png", name:"Trần Thị Lụa", position:"Tổ Tiếng Anh", description:"Chúng em xin kính chúc cô một ngày 20/11 thật vui vẻ và ngập tràn hạnh phúc.", duration:9 },
            { size:170, image:"./picofteacher/Nguyễn Minh Phương TA.png", name:"Nguyễn Minh Phương", position:"Tổ Tiếng Anh", description:"Chúc thầy một ngày 20/11 thật vui vẻ.", duration:8 },
            { size:170, image:"./picofteacher/Hoàng Thị Linh Hương Tổ Tiếng Anh.png", name:"Hoàng Thị Linh Hương", position:"Tổ Tiếng Anh", description:"Chúc thầy cô luôn mạnh khỏe.", duration:7 },
            { size:170, image:"./picofteacher/Phạm Thị Quyên Tổ TANH.png", name:"Phạm Thị Quyên", position:"Tổ Tiếng Anh", description:"Chúc thầy cô luôn mạnh khỏe.", duration:8 }
        ];

        const placedBubbles = [];

        function getRandomPosition(size){
            let x, y, safe=false, attempts=0;
            const containerWidth=bubbleContainer.clientWidth;
            const containerHeight=bubbleContainer.clientHeight;
            while(!safe && attempts<100){
                x=Math.random()*(containerWidth-size);
                y=Math.random()*(containerHeight-size);
                safe=true;
                for(let b of placedBubbles){
                    const dx=b.x-x;
                    const dy=b.y-y;
                    const distance=Math.sqrt(dx**2 + dy**2);
                    if(distance < (b.size+size)*0.6){ safe=false; break; }
                }
                attempts++;
            }
            placedBubbles.push({x,y,size});
            return {x,y};
        }

        people.forEach((p,index)=>{
            const bubble=document.createElement("div");
            const size=p.size;
            const pos=getRandomPosition(size);
            bubble.className="bubble";
            bubble.style.width=size+"px";
            bubble.style.height=size+"px";
            bubble.style.left=pos.x+"px";
            bubble.style.top=pos.y+"px";
            bubble.style.animation=`float1 ${p.duration}s infinite`;
            const img=document.createElement("img");
            img.src=p.image;
            bubble.appendChild(img);
            bubble.onclick=()=>showModal(index);
            bubbleContainer.appendChild(bubble);
        });

        function showModal(index){
            const p=people[index];
            document.getElementById("modalAvatar").src=p.image;
            document.getElementById("modalName").textContent=p.name;
            document.getElementById("modalPosition").textContent=p.position;
            document.getElementById("modalDescription").textContent=p.description;
            document.getElementById("modal").classList.add("active");
        }

        function closeModal(){ document.getElementById("modal").classList.remove("active"); }
        document.getElementById("modal").onclick=(e)=>{ if(e.target===e.currentTarget) closeModal(); }
        document.addEventListener("keydown",(e)=>{ if(e.key==="Escape") closeModal(); });

        const sidebar=document.getElementById("sidebarMenu");
        const moreBtn=document.querySelector(".more");
        moreBtn.addEventListener("click",()=>{ sidebar.classList.toggle("open"); });
        document.addEventListener("click",(e)=>{ if(!sidebar.contains(e.target) && !moreBtn.contains(e.target)) sidebar.classList.remove("open"); });
        document.addEventListener("keydown",(e)=>{ if(e.key==="Escape") sidebar.classList.remove("open"); });

        // --- THIEP HIEN KHI SCROLL ---
        const thiep=document.getElementById("thiep");
        function checkThiepVisible(){
            const rect=thiep.getBoundingClientRect();
            const windowHeight=window.innerHeight||document.documentElement.clientHeight;
            if(rect.top<windowHeight && rect.bottom>0){
                thiep.classList.add("visible");
            }else{
                thiep.classList.remove("visible");
            }
        }
        window.addEventListener("scroll", checkThiepVisible);
        window.addEventListener("resize", checkThiepVisible);
        checkThiepVisible();
    </script>

</body>
</html>
